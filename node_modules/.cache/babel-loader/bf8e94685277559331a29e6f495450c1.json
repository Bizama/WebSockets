{"remainingRequest":"/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/babel-loader/lib/index.js!/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/javierbizama/Uni/Tarea_03/tarea3/src/components/HelloWorld.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/javierbizama/Uni/Tarea_03/tarea3/src/components/HelloWorld.vue","mtime":1621305215660},{"path":"/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/javierbizama/Uni/Tarea_03/tarea3/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwppbXBvcnQgRmxpZ2h0c0luZm8gZnJvbSAnLi9GbGlnaHRzSW5mbyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBGbGlnaHRzSW5mbzogRmxpZ2h0c0luZm8KICB9LAogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29ja2V0OiB7fSwKICAgICAgLy9ob3cgdG8gaW5pdGlhbGl6ZSBpbiBWdWUKICAgICAgbWVzc2FnZTogJycsCiAgICAgIG1lc3NhZ2VzOiBbXSwKICAgICAgbmlja25hbWU6ICcnLAogICAgICBmbGlnaHRzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNvY2tldCA9IGlvKCJ3czovL3RhcmVhLTMtd2Vic29ja2V0LjIwMjEtMS50YWxsZXJkZWludGVncmFjaW9uLmNsIiwgewogICAgICBwYXRoOiAnL2ZsaWdodHMnCiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIHRoaXMuY29udGV4dCA9IHRoaXMuJHJlZnMuZ2FtZS5nZXRDb250ZXh0KCIyZCIpOwogICAgdGhpcy5zb2NrZXQub24oJ1BPU0lUSU9OJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICB9KTsKICAgIHRoaXMuc29ja2V0Lm9uKCdDSEFUJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIG1lc3NhZ2VfZGF0ZSA9IG5ldyBEYXRlKGRhdGEuZGF0ZSk7CiAgICAgIGRhdGEuZGF0ZSA9IG1lc3NhZ2VfZGF0ZTsKCiAgICAgIF90aGlzLm1lc3NhZ2VzLnB1c2goZGF0YSk7CgogICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBtZXNzYWdlQm94ID0gdGhpcy4kcmVmc1snY2hhdGJveCddOwogICAgICAgIG1lc3NhZ2VCb3guc2Nyb2xsVG9wID0gbWVzc2FnZUJveC5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbignRkxJR0hUUycsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLmZsaWdodHMucHVzaChkYXRhKTsKCiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmZsaWdodHMpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ0NIQVQnLCB7CiAgICAgICAgbmFtZTogdGhpcy5uaWNrbmFtZSwKICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UKICAgICAgfSk7CiAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgfSwKICAgIGNoZWNrTmlja25hbWU6IGZ1bmN0aW9uIGNoZWNrTmlja25hbWUoKSB7CiAgICAgIGlmICh0aGlzLm5pY2tuYW1lID09ICcnKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZ2V0RmxpZ2h0czogZnVuY3Rpb24gZ2V0RmxpZ2h0cygpIHsKICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnRkxJR0hUUycpOwogICAgfSwKICAgIGNoYW5nZU5pY2tuYW1lOiBmdW5jdGlvbiBjaGFuZ2VOaWNrbmFtZSgpIHsKICAgICAgdGhpcy5uaWNrbmFtZSA9IHRoaXMubmlja25hbWVfYXV4OwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/javierbizama/Uni/Tarea_03/tarea3/src/components/HelloWorld.vue"],"names":[],"mappings":"AAmCI,OAAO,EAAP,MAAe,kBAAf;AACA,OAAO,WAAP,MAAwB,eAAxB;AAEA,eAAe;AACX,EAAA,UAAU,EAAE;AACV,IAAA,WAAU,EAAV;AADU,GADD;AAIX,EAAA,IAAI,EAAE,YAJK;AAKX,EAAA,IALW,kBAKJ;AACL,WAAO;AACL,MAAA,MAAM,EAAE,EADH;AACO;AACZ,MAAA,OAAO,EAAE,EAFJ;AAGL,MAAA,QAAQ,EAAE,EAHL;AAIL,MAAA,QAAQ,EAAE,EAJL;AAKL,MAAA,OAAO,EAAE;AALJ,KAAP;AAOD,GAbU;AAcX,EAAA,OAdW,qBAcD;AACR,SAAK,MAAL,GAAc,EAAE,CAAC,sDAAD,EAAyD;AAAC,MAAA,IAAI,EAAE;AAAP,KAAzD,CAAhB;AACD,GAhBU;AAiBX,EAAA,OAjBW,qBAiBD;AAAA;;AACR;AACA,SAAK,MAAL,CAAY,EAAZ,CAAe,UAAf,EAA2B,UAAA,IAAG,EAAK;AACjC,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AAED,KAHD;AAIA,SAAK,MAAL,CAAY,EAAZ,CAAe,MAAf,EAAuB,UAAA,IAAG,EAAK;AAC7B,UAAM,YAAW,GAAI,IAAI,IAAJ,CAAS,IAAI,CAAC,IAAd,CAArB;AACA,MAAA,IAAI,CAAC,IAAL,GAAY,YAAZ;;AACA,MAAA,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,IAAnB;;AACA,MAAA,KAAI,CAAC,SAAL,CAAe,YAAW;AACxB,YAAI,UAAS,GAAI,KAAK,KAAL,CAAW,SAAX,CAAjB;AACA,QAAA,UAAU,CAAC,SAAX,GAAuB,UAAU,CAAC,YAAlC;AACD,OAHD;AAIA,KARF;AAUA,SAAK,MAAL,CAAY,EAAZ,CAAe,SAAf,EAA0B,UAAA,IAAG,EAAK;AAChC,MAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,IAAlB;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAI,CAAC,OAAjB;AACD,KAHD;AAID,GArCU;AAsCX,EAAA,OAAO,EAAE;AACP,IAAA,WAAW,EAAE,uBAAY;AACvB,WAAK,MAAL,CAAY,IAAZ,CAAiB,MAAjB,EAAyB;AAAC,QAAA,IAAI,EAAE,KAAK,QAAZ;AAAsB,QAAA,OAAO,EAAE,KAAK;AAApC,OAAzB;AACA,WAAK,OAAL,GAAe,EAAf;AACD,KAJM;AAKP,IAAA,aAAa,EAAE,yBAAW;AACxB,UAAI,KAAK,QAAL,IAAiB,EAArB,EAAyB;AACvB,eAAO,KAAP;AACF;AACD,KATM;AAUP,IAAA,UAAU,EAAE,sBAAW;AACrB,WAAK,MAAL,CAAY,IAAZ,CAAiB,SAAjB;AACD,KAZM;AAaP,IAAA,cAAc,EAAE,0BAAW;AACzB,WAAK,QAAL,GAAgB,KAAK,YAArB;AACF;AAfO;AAtCE,CAAf","sourcesContent":["<template>\n  <div>\n    <h1>Chat Room Section</h1>   \n    <div> \n      <ul ref=\"chatbox\" class=\"chatbox-container\" id=\"chatbox\">\n        <li v-for=\"message in messages\" :key=\"message.name\" class=\"list\">\n          {{ message.name }}({{message.date}}): {{ message.message }}\n        </li>\n      </ul>\n      <form @submit.prevent=\"sendMessage\" class=\"chatbox-bottom\" v-if=\"this.nickname != ''\">\n        <input  class=\"chatbox-input\" type=\"text\" placeholder=\"Message...\" v-model=\"message\" />\n        <input type=\"submit\" value=\"Send\" />\n      </form>\n      <form @submit.prevent=\"changeNickname\" v-else>\n        <span>Introduzca un nickname para chatear</span>\n        <br>\n        <input type=\"text\" placeholder=\"Escriba su nickname...\" v-model=\"nickname_aux\" />\n        <input type=\"submit\" value=\"Ingresar\" /> \n      </form>\n    </div>\n    <div class='mapbox-container'>\n    </div>\n    <div style=\"margin-top:32px\">\n      <button @click=\"getFlights\">Obtener informacion de vuelos</button>\n      <div class=\"flights-info\"> \n        <li v-for=\"flight in flights[0]\" :key=\"flight.code\">\n          <flights-info v-bind:flight_list=\"flight\" />\n        </li>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n    import io from \"socket.io-client\";\n    import FlightsInfo from './FlightsInfo'\n\n    export default {\n        components: {\n          FlightsInfo\n        },\n        name: 'HelloWorld',\n        data() {\n          return {\n            socket: {}, //how to initialize in Vue\n            message: '',\n            messages: [],\n            nickname: '',\n            flights: [],\n          }  \n        }, \n        created() {\n          this.socket = io(\"ws://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {path: '/flights'});\n        },\n        mounted() {\n          // this.context = this.$refs.game.getContext(\"2d\");\n          this.socket.on('POSITION', data => {\n            console.log(data);\n\n          });\n          this.socket.on('CHAT', data => {\n            const message_date = new Date(data.date);\n            data.date = message_date;\n            this.messages.push(data);\n            this.$nextTick(function() {\n              var messageBox = this.$refs['chatbox'];\n              messageBox.scrollTop = messageBox.scrollHeight;\n            }); \n            }\n          );\n          this.socket.on('FLIGHTS', data => {\n            this.flights.push(data);\n            console.log(this.flights);\n          });\n        },\n        methods: {\n          sendMessage: function () {\n            this.socket.emit('CHAT', {name: this.nickname, message: this.message} );\n            this.message = ''\n          },\n          checkNickname: function() { \n            if (this.nickname == '') {\n              return false;\n            }\n          },\n          getFlights: function() { \n            this.socket.emit('FLIGHTS');\n          },\n          changeNickname: function() {\n            this.nickname = this.nickname_aux \n          }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.chatbox-container{\n    height: 50px;\n    width: 400px;\n    overflow-y: scroll;\n  }\n\n.chatbox-input {\n  margin-left:16px;\n}\n\n.chatbox-bottom {\n  width: 400px;\n  justify-content: space-between;\n}\n\n.flights-info {\n  height: 200px;\n  width: 100%;\n  padding-right: 50px;\n  padding-left: 50px;\n  display: flex;\n  flex-direction: row;\n  margin-right: 16px;\n  list-style: none;\n  margin-top: 32px;\n\n}\n.list {\n  list-style: none;\n}\n\n.mapbox-container {\n  height: 500px;\n  width: 100vh;\n  background-color: blue;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n</style>\n"],"sourceRoot":""}]}