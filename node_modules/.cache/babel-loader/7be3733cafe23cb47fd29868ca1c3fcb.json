{"remainingRequest":"/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/babel-loader/lib/index.js!/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/javierbizama/Uni/Tarea_03/WebSockets/src/components/HelloWorld.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/javierbizama/Uni/Tarea_03/WebSockets/src/components/HelloWorld.vue","mtime":1621818086696},{"path":"/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/javierbizama/Uni/Tarea_03/WebSockets/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvamF2aWVyYml6YW1hL1VuaS9UYXJlYV8wMy9XZWJTb2NrZXRzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mbGF0LmpzIjsKaW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwppbXBvcnQgRmxpZ2h0c0luZm8gZnJvbSAnLi9GbGlnaHRzSW5mbyc7CmltcG9ydCAibGVhZmxldC9kaXN0L2xlYWZsZXQuY3NzIjsKaW1wb3J0IHsgTE1hcCwgTFRpbGVMYXllciwgTE1hcmtlciwgTENvbnRyb2xMYXllcnMsIExUb29sdGlwLCBMUG9seWxpbmUgfSBmcm9tICJAdnVlLWxlYWZsZXQvdnVlLWxlYWZsZXQiOwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExNYXA6IExNYXAsCiAgICBMVGlsZUxheWVyOiBMVGlsZUxheWVyLAogICAgTE1hcmtlcjogTE1hcmtlciwKICAgIExQb2x5bGluZTogTFBvbHlsaW5lLAogICAgTFRvb2x0aXA6IExUb29sdGlwLAogICAgRmxpZ2h0c0luZm86IEZsaWdodHNJbmZvLAogICAgTENvbnRyb2xMYXllcnM6IExDb250cm9sTGF5ZXJzCiAgfSwKICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvY2tldDoge30sCiAgICAgIC8vaG93IHRvIGluaXRpYWxpemUgaW4gVnVlCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBtZXNzYWdlczogW10sCiAgICAgIG5pY2tuYW1lOiAnJywKICAgICAgZmxpZ2h0czogW10sCiAgICAgIHBsYW5lczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnNvY2tldCA9IGlvKCJ3czovL3RhcmVhLTMtd2Vic29ja2V0LjIwMjEtMS50YWxsZXJkZWludGVncmFjaW9uLmNsIiwgewogICAgICBwYXRoOiAnL2ZsaWdodHMnCiAgICB9KTsKICAgIHRoaXMuc29ja2V0LmVtaXQoJ0ZMSUdIVFMnKTsKICAgIHRoaXMuc29ja2V0Lm9uY2UoJ0ZMSUdIVFMnLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5mbGlnaHRzLnB1c2goZGF0YSk7CgogICAgICBfdGhpcy5wbGFuZXMgPSBfdGhpcy5mbGlnaHRzWzBdLm1hcChmdW5jdGlvbiAoZikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb2RlOiBmLmNvZGUsCiAgICAgICAgICBwb3NpdGlvbjogX3RvQ29uc3VtYWJsZUFycmF5KGYub3JpZ2luKSwKICAgICAgICAgIGluaXRpYWxfcG9zaXRpb246IF90b0NvbnN1bWFibGVBcnJheShmLm9yaWdpbiksCiAgICAgICAgICBkZXN0aW5hdGlvbjogX3RvQ29uc3VtYWJsZUFycmF5KGYuZGVzdGluYXRpb24pLAogICAgICAgICAgaWNvbjogTC5pY29uKHsKICAgICAgICAgICAgaWNvblVybDogIi4uL3NyYy9hc3NldHMvbG9nby5wbmciLAogICAgICAgICAgICBpY29uU2l6ZTogWzY0LCA2NF0sCiAgICAgICAgICAgIGljb25BbmNob3I6IFszMiwgMzJdCiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgLy8gdGhpcy5jb250ZXh0ID0gdGhpcy4kcmVmcy5nYW1lLmdldENvbnRleHQoIjJkIik7CiAgICB0aGlzLnNvY2tldC5vbignUE9TSVRJT04nLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpczIucGxhbmVzID0gX3RoaXMyLnBsYW5lcy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSBwLmNvZGUpIHsKICAgICAgICAgIHAucG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uOwoKICAgICAgICAgIGlmIChwLmluaXRpYWxfcG9zaXRpb25bMF0gPT0gMCkgewogICAgICAgICAgICBwLmluaXRpYWxfcG9zaXRpb24gPSBwLnBvc2l0aW9uOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHA7CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbignQ0hBVCcsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHZhciBtZXNzYWdlX2RhdGUgPSBuZXcgRGF0ZShkYXRhLmRhdGUpOwogICAgICBkYXRhLmRhdGUgPSBtZXNzYWdlX2RhdGU7CgogICAgICBfdGhpczIubWVzc2FnZXMucHVzaChkYXRhKTsKCiAgICAgIF90aGlzMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBtZXNzYWdlQm94ID0gdGhpcy4kcmVmc1snY2hhdGJveCddOwogICAgICAgIG1lc3NhZ2VCb3guc2Nyb2xsVG9wID0gbWVzc2FnZUJveC5zY3JvbGxIZWlnaHQ7CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLnNvY2tldC5vbmNlKCdGTElHSFRTJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMyLmZsaWdodHMucHVzaChkYXRhKTsKCiAgICAgIF90aGlzMi5wbGFuZXMgPSBfdGhpczIuZmxpZ2h0c1swXS5tYXAoZnVuY3Rpb24gKGYpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29kZTogZi5jb2RlLAogICAgICAgICAgcG9zaXRpb246IF90b0NvbnN1bWFibGVBcnJheShmLm9yaWdpbiksCiAgICAgICAgICBpbml0aWFsX3Bvc2l0aW9uOiBbMCwgMF0sCiAgICAgICAgICBkZXN0aW5hdGlvbjogX3RvQ29uc3VtYWJsZUFycmF5KGYuZGVzdGluYXRpb24pLAogICAgICAgICAgaWNvbjogTC5pY29uKHsKICAgICAgICAgICAgaWNvblVybDogIi4uL3NyYy9hc3NldHMvbG9nby5wbmciLAogICAgICAgICAgICBpY29uU2l6ZTogWzY0LCA2NF0sCiAgICAgICAgICAgIGljb25BbmNob3I6IFszMiwgMzJdCiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhfdGhpczIucGxhbmVzKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KCdDSEFUJywgewogICAgICAgIG5hbWU6IHRoaXMubmlja25hbWUsCiAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlCiAgICAgIH0pOwogICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgIH0sCiAgICBjaGVja05pY2tuYW1lOiBmdW5jdGlvbiBjaGVja05pY2tuYW1lKCkgewogICAgICBpZiAodGhpcy5uaWNrbmFtZSA9PSAnJykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGdldEZsaWdodHM6IGZ1bmN0aW9uIGdldEZsaWdodHMoKSB7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ0ZMSUdIVFMnKTsKICAgIH0sCiAgICBjaGFuZ2VOaWNrbmFtZTogZnVuY3Rpb24gY2hhbmdlTmlja25hbWUoKSB7CiAgICAgIHRoaXMubmlja25hbWUgPSB0aGlzLm5pY2tuYW1lX2F1eDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBhaXJwb3J0czogZnVuY3Rpb24gYWlycG9ydHMoKSB7CiAgICAgIHJldHVybiBuZXcgU2V0KHRoaXMuZmxpZ2h0c1swXS5tYXAoZnVuY3Rpb24gKGYpIHsKICAgICAgICB2YXIgY29vcmRzID0gX3RvQ29uc3VtYWJsZUFycmF5KGYub3JpZ2luKTsKCiAgICAgICAgdmFyIGNvb3JkczIgPSBfdG9Db25zdW1hYmxlQXJyYXkoZi5kZXN0aW5hdGlvbik7CgogICAgICAgIHJldHVybiBbY29vcmRzLCBjb29yZHMyXTsKICAgICAgfSkuZmxhdCgpKTsKICAgIH0sCiAgICB0aGVvcmljYWxQYXRoOiBmdW5jdGlvbiB0aGVvcmljYWxQYXRoKCkgewogICAgICByZXR1cm4gdGhpcy5mbGlnaHRzWzBdLm1hcChmdW5jdGlvbiAoZikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYXRsbmdzOiBbX3RvQ29uc3VtYWJsZUFycmF5KGYub3JpZ2luKSwgX3RvQ29uc3VtYWJsZUFycmF5KGYuZGVzdGluYXRpb24pXSwKICAgICAgICAgIGNvbG9yOiAnIzE0QjhBNicKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBhY3R1YWxQYXRoOiBmdW5jdGlvbiBhY3R1YWxQYXRoKCkgewogICAgICByZXR1cm4gdGhpcy5wbGFuZXMubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhdGxuZ3M6IFtfdG9Db25zdW1hYmxlQXJyYXkocC5pbml0aWFsX3Bvc2l0aW9uKSwgX3RvQ29uc3VtYWJsZUFycmF5KHAucG9zaXRpb24pXSwKICAgICAgICAgIGNvbG9yOiAnI2IzMTRiOCcKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/javierbizama/Uni/Tarea_03/WebSockets/src/components/HelloWorld.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <h1>Websocket Airlines Information</h1>   \n    <div> \n      <ul ref=\"chatbox\" class=\"chatbox-container\" id=\"chatbox\">\n        <li v-for=\"message in messages\" :key=\"message.name\" class=\"list\">\n          {{ message.name }}({{message.date}}): {{ message.message }}\n        </li>\n      </ul>\n      <form @submit.prevent=\"sendMessage\" class=\"chatbox-bottom\" v-if=\"this.nickname != ''\">\n        <input  class=\"chatbox-input\" type=\"text\" placeholder=\"Message...\" v-model=\"message\" />\n        <input type=\"submit\" value=\"Send\" />\n      </form>\n      <form @submit.prevent=\"changeNickname\" v-else>\n        <span>Introduzca un nickname para chatear</span>\n        <br>\n        <input type=\"text\"  class=\"chatbox-input\" placeholder=\"Escriba su nickname...\" v-model=\"nickname_aux\" />\n        <input type=\"submit\" value=\"Ingresar\" /> \n      </form>\n    </div>\n    <div class='mapbox-container'>\n       <l-map \n        :min-zoom=\"4\"\n        v-model=\"zoom\"\n        v-model:zoom=\"zoom\"\n        :center=\"[-33.8, -70.803203]\"\n        ref=\"myMap\">\n         <LTileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n         <l-marker\n            v-for=\"(airport, index) in airports\"\n            :key=\"`ai-${index}`\"\n            :lat-lng=\"airport\"\n          ></l-marker>\n         <l-marker\n          v-for=\"(plane, index) in planes\"\n          :key=\"`pls-${index}`\"\n          :lat-lng=\"plane.position\"\n         >\n          <l-tooltip :options=\"{ offset: [12, 24] }\">\n            {{ plane.code }}\n          </l-tooltip>\n         </l-marker>\n         <l-control-layers />\n         <LPolyline \n          v-for=\"(poly, index) in theoricalPath\"\n          :key=\"`p-${index}`\"\n          :lat-lngs=\"poly.latlngs\"\n          :color=\"poly.color\"\n         />\n         <LPolyline \n          v-for=\"(line, index) in actualPath\"\n          :key=\"`l-${index}`\" \n          :lat-lngs=\"line.latlngs\"\n          :color=\"line.color\"\n          />\n       </l-map>\n    </div>\n    <div style=\"margin-top:32px\">\n      <button @click=\"getFlights\">Obtener informacion de vuelos</button>\n      <div class=\"flights-info\"> \n        <li v-for=\"flight in flights[0]\" :key=\"flight.code\">\n          <flights-info v-bind:flight_list=\"flight\" />\n        </li>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n    import io from \"socket.io-client\";\n    import FlightsInfo from './FlightsInfo';\n    import \"leaflet/dist/leaflet.css\";\n    import { \n        LMap,\n        LTileLayer,\n        LMarker,\n        LControlLayers,\n        LTooltip,\n        LPolyline,\n    } from \"@vue-leaflet/vue-leaflet\";\n    import L from 'leaflet';\n\n    export default {\n        components: {\n          LMap,\n          LTileLayer,\n          LMarker,\n          LPolyline,\n          LTooltip,\n          FlightsInfo,\n          LControlLayers,\n        },\n        name: 'HelloWorld',\n        data() {\n          return {\n            socket: {}, //how to initialize in Vue\n            message: '',\n            messages: [],\n            nickname: '',\n            flights: [],\n            planes: [],\n          }  \n        }, \n        created() {\n          this.socket = io(\"ws://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {path: '/flights'});\n          this.socket.emit('FLIGHTS');\n          this.socket.once('FLIGHTS', data => {\n            this.flights.push(data);\n            this.planes = this.flights[0].map((f) => {\n              return {\n                code: f.code,\n                position: [...f.origin],\n                initial_position: [...f.origin],\n                destination: [...f.destination],\n                icon: L.icon({\n                  iconUrl: `../src/assets/logo.png`,\n                  iconSize: [64, 64],\n                  iconAnchor: [32, 32],\n                })\n              };\n            })\n          });\n        },\n        mounted() {\n          // this.context = this.$refs.game.getContext(\"2d\");\n          this.socket.on('POSITION', data => {\n            this.planes = this.planes.map((p) => {\n              if (data.code === p.code) {\n                p.position = data.position;\n                if (p.initial_position[0] == 0) {\n                  p.initial_position = p.position;\n                }\n              }\n              return p;\n            });\n          });\n          this.socket.on('CHAT', data => {\n            const message_date = new Date(data.date);\n            data.date = message_date;\n            this.messages.push(data);\n            this.$nextTick(function() {\n              var messageBox = this.$refs['chatbox'];\n              messageBox.scrollTop = messageBox.scrollHeight;\n            }); \n            }\n          );\n          this.socket.once('FLIGHTS', data => {\n            this.flights.push(data);\n\n            this.planes = this.flights[0].map((f) => {\n              return {\n                code: f.code,\n                position: [...f.origin],\n                initial_position: [0,0],\n                destination: [...f.destination],\n                icon: L.icon({\n                  iconUrl: `../src/assets/logo.png`,\n                  iconSize: [64, 64],\n                  iconAnchor: [32, 32],\n                })\n              };\n            })\n            console.log(this.planes);\n          });\n        },\n        methods: {\n          sendMessage: function () {\n            this.socket.emit('CHAT', {name: this.nickname, message: this.message} );\n            this.message = ''\n          },\n          checkNickname: function() { \n            if (this.nickname == '') {\n              return false;\n            }\n          },\n          getFlights: function() { \n            this.socket.emit('FLIGHTS');\n          },\n          changeNickname: function() {\n            this.nickname = this.nickname_aux \n          }\n        },\n        computed: {\n          airports: function() {\n            return new Set(\n              this.flights[0].map((f) => {\n                const coords = [...f.origin];\n                const coords2 = [...f.destination];\n                return [coords, coords2];\n              }).flat()\n            );\n          },\n          theoricalPath: function() {\n            return this.flights[0].map((f)=> {\n              return {\n                latlngs: [[...f.origin], [...f.destination]],\n                color: '#14B8A6'\n              };\n            });\n          },\n          actualPath: function() {\n            return this.planes.map((p) => {\n              return {\n                latlngs: [[...p.initial_position], [...p.position]],\n                color: '#b314b8'\n              };\n            });\n          },\n        },  \n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.chatbox-container{\n    height: 50px;\n    width: 400px;\n    overflow-y: scroll;\n  }\n\n.chatbox-input {\n  margin-left:16px;\n}\n\n.chatbox-bottom {\n  width: 400px;\n  justify-content: space-between;\n}\n\n.flights-info {\n  height: 200px;\n  width: 100%;\n  padding-right: 50px;\n  padding-left: 50px;\n  display: flex;\n  flex-direction: row;\n  margin-right: 16px;\n  list-style: none;\n  margin-top: 32px;\n}\n\n.list {\n  list-style: none;\n}\n\n.mapbox-container {\n  height: 400px;\n  width: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 32px;\n}\n</style>\n"],"sourceRoot":""}]}